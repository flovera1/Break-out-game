# Makefile based on makefile generated by wxDev-C++ 7.3

#Shared defines
CC         = gcc
GLOBALDEPS = Objects
OBJ        = Objects/main.o Objects/cargarArchivo.o Objects/pelota.o Objects/basico.o Objects/error_services.o Objects/ladrillo.o Objects/ladrilloGL.o Objects/timer.o Objects/enfriamiento.o
LINKOBJ    = "Objects/main.o" "Objects/cargarArchivo.o" "Objects/pelota.o" "Objects/basico.o" "Objects/error_services.o" "Objects/ladrillo.o" "Objects/ladrilloGL.o" "Objects/timer.o" "Objects/enfriamiento.o"
DEFINES    = 
CFLAGS     = $(DEFINES)
GPROF      = gprof
RM         = rm -f
LINK       = gcc

#outputted program name
BIN        = Breakout.exe

#conditional compilation of GLUT
LDFLAGS = -lGL -lGLU -lglut
UNAME = $(shell uname)
ifeq ($(UNAME), Darwin)  # Mac OS X
# OpenGL and GLUT are frameworks, override LDFLAGS above
LDFLAGS = -framework OpenGL -framework GLUT
# Universal binary support
CFLAGS  += -arch ppc -arch i386
endif
ifeq ($(UNAME), CYGWIN_NT-5.1)  # Cygwin
# OpenGL and GLUT libs are named differently, override LDFLAGS above
LDFLAGS = -lopengl32 -lglu32 -lglut32
endif

#Make commands
.PHONY: all all-before all-after clean clean-custom
all: all-before $(BIN) all-after

clean: clean-custom
	$(RM) $(LINKOBJ) "$(BIN)"

$(BIN): $(OBJ)
	$(LINK) $(LINKOBJ) $(LDFLAGS) -o "$(BIN)" $(LIBS) 

Objects/main.o: $(GLOBALDEPS) main.c valores_globales.h pelota.h valores_globales.h plano.h basico.h valores_globales.h cargarArchivo.h error_services.h ladrillo.h ladrilloGL.h enfriamiento.h
	$(CC) -c main.c $(LDFLAGS) -o Objects/main.o $(CFLAGS)

Objects/cargarArchivo.o: $(GLOBALDEPS) cargarArchivo.c valores_globales.h cargarArchivo.h error_services.h
	$(CC) -c cargarArchivo.c $(LDFLAGS) -o Objects/cargarArchivo.o $(CFLAGS)

Objects/pelota.o: $(GLOBALDEPS) pelota.c pelota.h valores_globales.h plano.h
	$(CC) -c pelota.c $(LDFLAGS) -o Objects/pelota.o $(CFLAGS)

Objects/basico.o: $(GLOBALDEPS) basico.c basico.h valores_globales.h
	$(CC) -c basico.c $(LDFLAGS) -o Objects/basico.o $(CFLAGS)

Objects/error_services.o: $(GLOBALDEPS) error_services.c error_services.h
	$(CC) -c error_services.c $(LDFLAGS) -o Objects/error_services.o $(CFLAGS)

Objects/ladrillo.o: $(GLOBALDEPS) ladrillo.c valores_globales.h error_services.h ladrillo.h pelota.h valores_globales.h plano.h
	$(CC) -c ladrillo.c $(LDFLAGS) -o Objects/ladrillo.o $(CFLAGS)

Objects/ladrilloGL.o: $(GLOBALDEPS) ladrilloGL.c valores_globales.h ladrillo.h basico.h valores_globales.h ladrilloGL.h
	$(CC) -c ladrilloGL.c $(LDFLAGS) -o Objects/ladrilloGL.o $(CFLAGS)

Objects/timer.o: $(GLOBALDEPS) timer.c timer.h
	$(CC) -c timer.c $(LDFLAGS) -o Objects/timer.o $(CFLAGS)

Objects/enfriamiento.o: $(GLOBALDEPS) enfriamiento.c timer.h valores_globales.h
	$(CC) -c enfriamiento.c $(LDFLAGS) -o Objects/enfriamiento.o $(CFLAGS)

Objects:
	mkdir Objects
